{
  "permissions": {
    "allow": [
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(claude mcp add:*)",
      "Bash(chmod:*)",
      "Bash(az account:*)",
      "Bash(az login:*)",
      "Bash(npm install:*)",
      "Bash(npx playwright:*)",
      "Bash(git pull:*)",
      "mcp__playwright__browser_navigate",
      "Bash(git checkout:*)",
      "mcp__playwright__browser_click",
      "Bash(npm test:*)",
      "Bash(npm run build:*)",
      "Bash(fly auth:*)",
      "Bash(export PATH=\"$PATH:/c/Users/benja/.fly/bin\")",
      "Bash(flyctl:*)",
      "Bash(/c/Users/benja/.fly/bin/flyctl.exe --version)",
      "Bash(/c/Users/benja/.fly/bin/flyctl.exe version)",
      "Bash(/c/Users/benja/.fly/bin/flyctl.exe auth login)",
      "Bash(/c/Users/benja/.fly/bin/flyctl.exe launch --no-deploy --name \"medio-react-app\" --region \"iad\")",
      "Bash(/c/Users/benja/.fly/bin/flyctl.exe launch --no-deploy --copy-config)",
      "Bash(/c/Users/benja/.fly/bin/flyctl.exe tokens create deploy -x 999999h)",
      "Bash(git push:*)",
      "Bash(git merge:*)",
      "WebFetch(domain:github.com)",
      "Bash(uv --version:*)",
      "Bash(powershell -Command \"irm https://astral.sh/uv/install.ps1 | iex\")",
      "Bash(powershell -Command \"Set-ExecutionPolicy RemoteSigned -Scope CurrentUser -Force; irm https://astral.sh/uv/install.ps1 | iex\")",
      "Bash(export PATH=\"$HOME/.local/bin:$PATH\")",
      "Bash(uv tool install:*)",
      "Bash(specify --version:*)",
      "Bash(specify:*)",
      "Bash(chcp.com:*)",
      "Bash(/dev/null)",
      "Bash(export PYTHONIOENCODING=utf-8)",
      "SlashCommand(/speckit.constitution Create constitution for Medio - a family-friendly video streaming platform with NFC-based content control for children. Include 6 core principles:\n\n1. Child Safety First - All features must prioritize child safety and data privacy. MUST enforce age-appropriate content filtering, secure NFC authentication, automatic session timeouts, and parental controls. NO direct data collection from children without parental consent.\n\n2. Context-Driven Architecture - React Context API is the ONLY state management solution. NO Redux, Zustand, or external state libraries. Context providers MUST be layered (Auth → Theme → Loading) with clear separation of concerns.\n\n3. Test-First Development (NON-NEGOTIABLE) - TDD is mandatory. Tests MUST be written and user-approved before implementation. Unit tests (Jest + React Testing Library) + E2E tests (Playwright) required for all features. Minimum 80% code coverage enforced.\n\n4. Error Resilience - Error boundaries MUST wrap all route components. All axios requests MUST use request cancellation. Graceful degradation required when API unavailable (show friendly messages, not crashes).\n\n5. Docker-First Development - All development MUST use Docker containers. Local setup via make commands (make dev, make test, make prod). Environment parity between dev/staging/production strictly enforced.\n\n6. NFC Security & Session Management - NFC chip UIDs MUST be validated server-side. Watch sessions MUST use heartbeat mechanism (30-120s intervals with exponential backoff). Session cleanup on unmount with sendBeacon for reliability.\n\nAdditional constraints: \n- Tech Stack: React 19, TypeScript 4.9, Create React App (no ejecting without approval)\n- Auth: httpOnly cookies only, NO localStorage for tokens\n- Testing: Jest + React Testing Library + Playwright\n- Monitoring: Sentry for error tracking\n- Code Style: ESLint with react-app config, TypeScript strict mode\n\nDevelopment workflow:\n- All PRs require passing tests (npm run validate: lint + test:coverage + build)\n- E2E tests required for critical paths (Kids Mode, NFC scanning, session management)\n- Docker containers must start successfully before PR approval\n- Constitution supersedes all other practices\n\nVersion: 1.0.0 | Ratified: 2025-10-17)",
      "Bash(mkdir:*)",
      "Bash(wsl which:*)",
      "Bash(wsl bash:*)"
    ],
    "deny": [],
    "ask": []
  }
}
