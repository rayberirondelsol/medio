
> medio@0.1.0 test:e2e
> playwright test --config=playwright.proxy.config.ts tests/e2e/auth-registration-proxy.spec.ts --max-failures=1


Running 6 tests using 1 worker

Browser console error: Failed to load resource: the server responded with a status of 401 (Unauthorized)
Browser console error: Failed to load resource: the server responded with a status of 401 (Unauthorized)
Browser console error: Error fetching dashboard data: $
Browser console error: Failed to load resource: the server responded with a status of 401 (Unauthorized)
Browser console error: Failed to load resource: the server responded with a status of 401 (Unauthorized)
[CLEANUP] Deleting 1 test user(s)...
[CLEANUP] âœ— Failed to delete user proxy-test-1761042558629-my4bnr@example.com: error: password authentication failed for user "medio"
    at [90mC:\Users\benja\projects\medio\[39mnode_modules\[4mpg-pool[24m\index.js:45:11
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\Users\benja\projects\medio\[39mtests\e2e\auth-registration-proxy.spec.ts:64:11
    at [90mC:\Users\benja\projects\medio\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:326:11
    at TimeoutManager.withRunnable [90m(C:\Users\benja\projects\medio\[39mnode_modules\[4mplaywright[24m\lib\worker\timeoutManager.js:67:14[90m)[39m
    at TestInfoImpl._runWithTimeout [90m(C:\Users\benja\projects\medio\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:324:7[90m)[39m
    at FixtureRunner.resolveParametersAndRunFunction [90m(C:\Users\benja\projects\medio\[39mnode_modules\[4mplaywright[24m\lib\worker\fixtureRunner.js:220:5[90m)[39m
    at [90mC:\Users\benja\projects\medio\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:465:11
    at TestInfoImpl._runAsStep [90m(C:\Users\benja\projects\medio\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:315:7[90m)[39m
    at WorkerMain._runEachHooksForSuites [90m(C:\Users\benja\projects\medio\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:464:9[90m)[39m
    at [90mC:\Users\benja\projects\medio\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:326:11
    at TestInfoImpl._runAsStep [90m(C:\Users\benja\projects\medio\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:315:7[90m)[39m
    at WorkerMain._runTest [90m(C:\Users\benja\projects\medio\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:317:5[90m)[39m
    at WorkerMain.runTestGroup [90m(C:\Users\benja\projects\medio\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:194:11[90m)[39m
    at process.<anonymous> [90m(C:\Users\benja\projects\medio\[39mnode_modules\[4mplaywright[24m\lib\common\process.js:65:22[90m)[39m {
  length: [33m101[39m,
  severity: [32m'FATAL'[39m,
  code: [32m'28P01'[39m,
  detail: [90mundefined[39m,
  hint: [90mundefined[39m,
  position: [90mundefined[39m,
  internalPosition: [90mundefined[39m,
  internalQuery: [90mundefined[39m,
  where: [90mundefined[39m,
  schema: [90mundefined[39m,
  table: [90mundefined[39m,
  column: [90mundefined[39m,
  dataType: [90mundefined[39m,
  constraint: [90mundefined[39m,
  file: [32m'auth.c'[39m,
  line: [32m'334'[39m,
  routine: [32m'auth_failed'[39m
}
[CLEANUP] Database connection closed
  âœ˜  1 [chromium] â€º tests\e2e\auth-registration-proxy.spec.ts:82:7 â€º Same-Origin Authentication via Proxy â€º T013: should redirect to dashboard after successful registration (1.6s)
[31mTesting stopped early after 1 maximum allowed failures.[39m


  1) [chromium] â€º tests\e2e\auth-registration-proxy.spec.ts:82:7 â€º Same-Origin Authentication via Proxy â€º T013: should redirect to dashboard after successful registration 

    Error: expect.toBeVisible: Error: strict mode violation: locator('text=Dashboard') resolved to 2 elements:
        1) <span>Dashboard</span> aka getByRole('link', { name: 'Dashboard' })
        2) <h1>Dashboard</h1> aka getByRole('heading', { name: 'Dashboard' })

    Call log:
    [2m  - Expect "toBeVisible" with timeout 10000ms[22m
    [2m  - waiting for locator('text=Dashboard')[22m


      101 |
      102 |     // Verify user is authenticated (dashboard should show user info)
    > 103 |     await expect(page.locator('text=Dashboard')).toBeVisible();
          |                                                  ^
      104 |   });
      105 |
      106 |   test('T014: should load Videos page without 401 errors after registration', async ({ page, context }) => {
        at C:\Users\benja\projects\medio\tests\e2e\auth-registration-proxy.spec.ts:103:50

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results\auth-registration-proxy-Sa-bacf5-ter-successful-registration-chromium\test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results\auth-registration-proxy-Sa-bacf5-ter-successful-registration-chromium\video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results\auth-registration-proxy-Sa-bacf5-ter-successful-registration-chromium\error-context.md

  1 failed
    [chromium] â€º tests\e2e\auth-registration-proxy.spec.ts:82:7 â€º Same-Origin Authentication via Proxy â€º T013: should redirect to dashboard after successful registration 
  5 did not run
  1 error was not a part of any test, see above for details
